from OmnibusDriver import OmnibusDriver
import json

od = OmnibusDriver('10.69.20.76', '8080', 'nmsadmin', 'nmsadmin')
od.drive()

baduri = "objectserver/restapi/alerts/status"
baduri2 = "/objectserver/restapi/fake/table"
gooduri = "/objectserver/restapi/alerts/status"
try:
    res = od.select(baduri, "Summary")
except:
    print "success"

try:
    res = od.select(baduri2, "Summary")
except:
    print "success"

try:
    res = od.select(gooduri, "*")
    colcount = 0
    for k in res[0]:
        colcount += 1
    print "column count = " + str(colcount)
except:
    print "failure"

od.select(gooduri, collist=['*'], where="methodProcedure != ''")
od.select(gooduri, collist="*", where="Serial > 6000 AND methodProcedure != '' or Serial > 8000")


